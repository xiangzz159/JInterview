# 网络系统

## 网络层划分

为了使不同计算机厂家生产的计算机能够相互通信，以便在更大的范围内建立计算机网络，国际标准化组织（ISO）在1978年提出了"开放系统互联参考模型"，即著名的OSI/RM模型（Open System Interconnection/Reference Model）。它将计算机网络体系结构的通信协议划分为七层，自下而上依次为：物理层（Physics Layer）、数据链路层（Data Link Layer）、网络层（Network Layer）、传输层（Transport Layer）、会话层（Session Layer）、表示层（Presentation Layer）、应用层（Application Layer）。其中第四层完成数据传送服务，上面三层面向用户。

除了标准的OSI七层模型以外，常见的网络层次划分还有TCP/IP四层协议以及TCP/IP五层协议，它们之间的对应关系如下图所示：
![NetworkLayer](./img/NetworkLayer.png)

五层协议：  
- 应用层：为特定应用程序提供数据传输服务，例如HTTP、DNS等，数据单位为报文
- 传输层：为进程提供通用数据传输服务。由于应用层协议很多，定义通用传输层协议就可以支持不断增多的应用层协议。运输层包括两种协议：传输控制协议TCP，提供面向连接、可靠的数据传输协议，数据单位为报文段；用户数据包协议UDP，提供无连接，尽最大女里的数据传输协议，数据单位为用户数据包。TCP主要提供完整性服务，UDP主要提供及时性服务。
- 网络层：为主机提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或者由用户数据包封装成分组
- 数据链路层：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的主句提供数据阐述服务。数据链路层把网络层传下来的分组封装成帧。
- 物理层：考虑的是怎样在传输媒体上传输数据比特流，而不是值具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，是数据链路层感觉不到这些差异

![NetworkLayer1](./img/NetworkLayer1.png)

## OSI七层网络模型
OSI七层协议为网络的标准层次划分，除了5层协议外还多了表示层和会话层
- 表示层：表示层对上层数据或信息进行变换以保证一个主机应用层信息可以被另一个主机的应用程序理解。表示层的数据转换包括数据的加密、压缩、格式转换等。
- 会话层：会话层管理主机之间的会话进程，即负责建立、管理、终止进程之间的会话。会话层还利用在数据中插入校验点来实现数据的同步。

## IP地址
### 网络地址
IP地址由网络号（包括子网号）和主机号组成，网络地址的主机号为全0，网络地址代表着整个网络
### 广播地址
广播地址通常称为直接广播地址，是为了曲风受限广播地址。  
广播地址与网络地址的主机号正好相反，广播地址中，主机号为全1。当向某个网络的广播地址发送消息时，该网络内的所有主机都能收到该广播消息。
### 组播地址
D类地址就是组播地址。  
先回忆下A，B，C，D类地址吧：  
- A类地址以0开头，第一个字节作为网络号，地址范围为：0.0.0.0~127.255.255.255；(modified @2016.05.31)
- B类地址以10开头，前两个字节作为网络号，地址范围是：128.0.0.0~191.255.255.255;
- C类地址以110开头，前三个字节作为网络号，地址范围是：192.0.0.0~223.255.255.255。
- D类地址以1110开头，地址范围是224.0.0.0~239.255.255.255，D类地址作为组播地址（一对多的通信）；
- E类地址以1111开头，地址范围是240.0.0.0~255.255.255.255，E类地址为保留地址，供以后使用。
- 注：只有A,B,C有网络号和主机号之分，D类地址和E类地址没有划分网络号和主机号。
### 255.255.255.255
该IP地址指的是受限的广播地址。受限广播地址与一般广播地址（直接广播地址）的区别在于，受限广播地址只能用于本地网络，路由器不会转发以受限广播地址为目的地址的分组；一般广播地址既可在本地广播，也可跨网段广播。例如：主机192.168.1.1/30上的直接广播数据包后，另外一个网段192.168.1.5/30也能收到该数据报；若发送受限广播数据报，则不能收到。

注：一般的广播地址（直接广播地址）能够通过某些路由器（当然不是所有的路由器），而受限的广播地址不能通过路由器。
### 0.0.0.0
常用于寻找自己的IP地址，例如在我们的RARP，BOOTP和DHCP协议中，若某个未知IP地址的无盘机想要知道自己的IP地址，它就以255.255.255.255为目的地址，向本地范围（具体而言是被各个路由器屏蔽的范围内）的服务器发送IP请求分组。
### 回环地址
127.0.0.0/8被用作回环地址，回环地址表示本机的地址，常用于对本机的测试，用的最多的是127.0.0.1。
### A、B、C类私有地址
私有地址(private address)也叫专用地址，它们不会在全球使用，只具有本地意义。
- A类私有地址：10.0.0.0/8，范围是：10.0.0.0~10.255.255.255
- B类私有地址：172.16.0.0/12，范围是：172.16.0.0~172.31.255.255
- C类私有地址：192.168.0.0/16，范围是：192.168.0.0~192.168.255.255

## 子网掩码及网络划分

## ARP/RARP协议

## 路由选择协议

## TCP/IP协议

## UDP协议

## DNS协议

## NAT协议

## DHCP协议

## HTTP协议

## HTTPS协议

## Sock

